/*! JTaro.js v0.0.1 ~ (c) 2016 Author:BarZu Git:https://github.com/chjtx/JTaro */
;!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.JTaro=e()}(this,function(){"use strict";function n(n,e){var i=n.previousElementSibling;s.sliding=!0,i&&e.utils.moveTo(i,-r,0,300),e.utils.moveTo(n,r,0),setTimeout(function(){e.utils.moveTo(n,0,0,300,function(){s.sliding=!1})},0)}function e(n,e,i){var t=n.nextElementSibling;s.sliding=!0,t&&e.utils.moveTo(t,r,0,300,i),e.utils.moveTo(n,0,0,300,function(){s.sliding=!1})}function i(n,t,o,a){n.length-1>a&&e(t[n.length-2].$el,o,function(){n.splice(n.length-1),setTimeout(function(){i(n,t,o,a)},0)})}function t(n){var e=n.split("&"),i={};return e.forEach(function(n){var e=n.split("=");i[e[0]]=e[1]}),i}function o(n,e){var o=n.replace("#!",""),a=o.split("?");o=a[0],a[1]&&(s.params=t(a[1]));var l=s.vm.$data.views,d=l.indexOf(o);d===-1?l.push(o):i(l,s.vm.$children,e,d)}function a(){r=window.innerWidth}var l=document.getElementById("jtaro_style");l||(l=document.createElement("style"),l.id="jtaro_style",l.innerHTML="html,body{height:100%;padding:0;margin:0}#jtaro_app{position:relative;width:100%;height:100%;overflow:hidden}.jtaro-view{position:absolute;width:100%;height:100%;overflow:hidden;background:#fff}",document.head.appendChild(l));var d={template:'<div style="text-align:center;padding-top:100px">404 Page not found</div>'},r=window.innerWidth,s=Object.create(null);return s.params=null,s.install=function(e,i){var t={name:"jt-view",props:["view"],data:function(){return{mask:!1}},render:function(n){return n(e.options.components[this.view]||d)},mounted:function(){n(this.$el,i.jroll)}};e.component("jt-view",t),s.vm=new e({el:i.el,data:{views:[]},template:'<div id="jtaro_app"><jt-view class="jtaro-view" v-for="view in views" :view="view"></jt-view></div>'}),window.addEventListener("hashchange",function(){o(window.location.hash,i.jroll)}),window.addEventListener("resize",a),window.addEventListener("orientationchange",a),s.boot=function(n){var e=window.location.hash;""===e?window.location.hash=n?"!"+n:"!home":o(e,i.jroll)}},s.go=function(n,e){s.sliding||("string"==typeof n&&(window.location.hash="!"+n),"number"==typeof n&&window.history.go(n),e?s.params=e:s.params=null)},window.Vue&&window.JRoll&&window.Vue.use(s,{jroll:window.JRoll,el:"#jtaro_app"}),s});